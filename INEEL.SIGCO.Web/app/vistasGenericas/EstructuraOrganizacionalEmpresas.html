<div class="modal-header">
    <button type="button" class="close" ng-click="cancel()" data-dissmiss="modal">
        <i class="glyphicon glyphicon-remove"></i>
    </button>
    <div class="col-xs-1"></div>
    <div>
        <h3>
            Estructura organizacional - empresas
        </h3>
    </div>
</div>

<div class="modal-body">
    <div class="row">
        <div class="col-xs-12" ng-show="data.length>0">
            <!--<div id="page-wrapper">-->
            <!-- Nested node template -->
            <script type="text/ng-template" id="nodes_renderer.html">
                <div ui-tree-handle class="tree-node-content">
                    <a class="btn btn-success btn-xs" ng-if="node.nodes && node.nodes.length > 0 "
                       data-nodrag ng-click="toggle(this)">
                        <span class="glyphicon"
                              ng-class="{
          'glyphicon-chevron-right': collapsed,
          'glyphicon-chevron-down': !collapsed
        }"></span>
                    </a>
                    <a class="btn btn-success btn-xs" ng-if="node.nodes && node.nodes.length < 1"
                       data-nodrag ng-click="newSubItem(this)" style="margin-right: 8px;">
                        <span class="glyphicon glyphicon-plus" title="Expandir"
                              ng-if="!(node.hoja && node.hoja===true)"></span>
                        <span class="glyphicon glyphicon-minus" title="Sin elementos"
                              ng-if="node.hoja && node.hoja===true"></span>
                    </a>
                    <a ng-if="!readonly" class="btn btn-link btn-md"
                       data-nodrag ng-click="seleccionarNodo(this)" style="margin-right: 8px;" 
                       title="Seleccionar">
                        {{node.title}}
                    </a>
                    <a ng-if="readonly" class="btn btn-link btn-md"
                       data-nodrag ng-click="verDetalle(this)" style="margin-right: 8px;"
                       title="Seleccionar">
                        {{node.title}}
                    </a>

                </div>
                <ol ui-tree-nodes="" data-nodrop-enabled ng-model="node.nodes" ng-class="{hidden: collapsed}">
                    <li ng-repeat="node in node.nodes" ui-tree-node ng-include="'nodes_renderer.html'">
                    </li>
                </ol>
            </script>
            <div class="row">
                <!--resultX:{{resultX | json}}-->
                <div class="col-sm-12">

                    <!--<button ng-click="expandAll()">Expand all</button>-->
                    <button ng-click="collapseAll()">Contraer todo</button>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12">
                    <div ui-tree id="tree-root" data-nodrop-enabled>
                        <ol ui-tree-nodes ng-model="data" data-nodrop-enabled>
                            <li ng-repeat="node in data" ui-tree-node ng-include="'nodes_renderer.html'"></li>
                        </ol>
                    </div>

                </div>
            </div>
        </div>
        <div class="col-xs-12" ng-show="data.length===0">
            <h2>No se ha registrado ninguna unidad organizacional</h2>
        </div>
    </div>
</div>
<!--data:{{data}}-->
<!-- final modal body-->
<div class="modal-footer">
    <button type="button" class="btn btn-cancel" ng-click="cancel()">Cancelar</button>
</div>
