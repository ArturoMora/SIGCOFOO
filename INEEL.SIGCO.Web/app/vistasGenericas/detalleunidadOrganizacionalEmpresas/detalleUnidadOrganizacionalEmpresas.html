<div class="modal-content">
    <div class="modal-header">
        Detalle unidad
        <button type="button" class="close" ng-click="cancel()" data-dissmiss="modal">x</button>
    </div>
    <div class="modal-body">
        <!--<p ng-bind-html="message"></p>-->
        <div class="col-xs-12 col-sm-12 col-xs-12">

            <div class="col-xs-3">
                <img src="images/empresa.png" class="img-thumbnail ng-scope" width="180" height="180" title="Centro Nacional de Control de EnergÃ­a (CENACE)">
            </div>

            <div class="col-xs-9 col-sm-9 col-xs-9">
                <div class="form-group row">
                    <label class="detalle_subtitulo col-md-12 col-sm-12 col-xs-12">{{nodo.nombreUnidad}} </label>

                </div>
                <div class="form-group" ng-if="nodo.municipios!=null || nodo.estados!=null || nodo.calle!=null">
                    <label class="control-label">
                        <i class="fa fa-map-marker"></i>
                        {{nodo.calle!=null? (nodo.calle + ',') : '' }} {{nodo.cp!=null? ('CP '+nodo.cp+ ',') : '' }} {{nodo.colonia!=null? (nodo.colonia
                        + ',') : '' }} {{nodo.municipios.nombreMunicipio!=null? (nodo.municipios.nombreMunicipio+ ',') :''}}
                        {{nodo.estados.nombreEstado}}
                    </label>
                </div>
                <div class="form-group" ng-if="nodo.telefono!=null">
                    <label class="control-label">
                        <i class="fa fa-phone"></i> {{nodo.telefono}} | ext: {{nodo.ext}}</label>
                </div>
                <div class="form-group" ng-if="nodo.correo!=null">
                    <label class="control-label">
                        <i class="fa fa-envelope-o"></i> {{nodo.correo}}</label>
                </div>
                <div class="form-group" ng-if="nodo.celular!=null">
                    <label class="control-label">
                        <i class="fa fa-mobile"></i> {{nodo.celular}}</label>
                </div>
                <br/>
                <h4 ng-if="nodo.contacto!=null">{{nodo.contacto.puesto}}</h4>

                <div ng-if="nodo.contacto!=null">
                    <div class="form-group" ng-if="nodo.contacto.nombreCompleto!=null">
                        <label class="control-label">
                            <i class="fa fa fa-user"></i> {{nodo.contacto.nombreCompleto}} </label>
                    </div>
                    <div class="form-group" ng-if="nodo.contacto.correo!=null">
                        <label class="control-label">
                            <i class="fa fa-envelope-o"></i> {{nodo.contacto.correo}}</label>
                    </div>
                    <div class="form-group" ng-if="nodo.contacto.telefono!=null">
                        <label class="control-label">
                            <i class="fa fa-phone"></i> {{nodo.contacto.telefono}}</label>
                    </div>
                    <div class="form-group" ng-if="nodo.contacto.celular!=null">
                        <label class="control-label">
                            <i class="fa fa-mobile"></i> {{nodo.contacto.celular}}</label>
                    </div>
                </div>
                <div class="form-group" ng-if="nodo.contacto==null">
                    <label class="control-label">
                        <i class="fa fa fa-user"></i> No disponible</label>
                </div>
                <br/>
                <div ng-if="idRol==15 && titulares.length>0">
                    <h4>Historial de titulares</h4>
                    <div ng-repeat="e in titulares | orderBy: 'fechaInicio'">
                        <label class="control-label">
                            <i class="fa fa fa-user"></i> {{e.nombreCompleto}}
                        </label>
                        <br/> {{e.puesto}} - del {{e.fechaInicio | date : 'dd-MM-yyyy'}} a {{e.fechaFinal==null? 'la actualidad'
                        : (e.fechaFinal | date : 'dd-MM-yyyy') }}
                        <br/>
                        <br/>

                    </div>
                </div>




            </div>

            <!-- <div ng-if="idRol==15 && titulares.length>0">
                <h4>Historial de titulares</h4>
                <div ng-show="titulares.length > 0">
                    <table id="titularesUnidadesReadOnly" dt-options="dtOptionsHistorial" class="table table-hover table-striped table-condensed dt-responsive"
                        cellspacing="0" datatable="ng" width="100%">
                        <thead>
                            <tr>
                                <th data-priority="1">Nombre</th>
                                <th data-priority="1">Puesto</th>
                                <th data-priority="1">Fecha inicio / termino</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="titular in historial">
                                <td>{{titular.nombreCompleto}}</td>
                                <td>{{titular.puesto}}</td>
                                <td>{{titular.fecha | date: 'dd-MM-yyyy'}} / {{e.fechaFinal==null? 'la actualidad' : (e.fechaFinal | date : 'dd-MM-yyyy') }}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div> -->

            <div ng-if="idRol==15 && historial.length>0">
                <h4>Historial de cambios</h4>
                <div ng-show="historial.length > 0">
                    <table id="historialUnidadesReadOnly" dt-options="dtOptionsHistorial" class="table table-hover table-striped table-condensed dt-responsive"
                        cellspacing="0" datatable="ng" width="100%">
                        <thead>
                            <tr>
                                <th data-priority="1">Nombre unidad</th>
                                <th data-priority="1">Nombre anterior</th>
                                <th>Fecha de cambio</th>
                                <th>Contacto</th>
                                <th>Padre de la unidad</th>
                                <th>Acci&oacute;n</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="unidad in historial">
                                <td>{{unidad.nombreUnidad}}</td>
                                <td>{{unidad.nombreAnteriorUnidad}}</td>
                                <td>{{unidad.fecha | date: 'dd-MM-yyyy'}}</td>
                                <td>{{unidad.nombreContacto!=null? unidad.nombreContacto : '--'}}</td>
                                <td>{{unidad.nombreUnidadPadre!=null? unidad.nombreUnidadPadre: '--'}}</td>
                                <td>{{unidad.accion}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>



        </div>


        <div class="clearfix"></div>

    </div>

    <div class="modal-footer">
        <button type="button" class="btn btn-primary" ng-click="cancel()">Cerrar</button>
    </div>
</div>