<div class="vista">
    <div class="page-title">
        <div class="title_left">
            <ol class="breadcrumb miga">
                <li><i class="sg sg-fuentes-financiamiento"></i> <a ui-sref="fuentesFinanciamientoGet">Fuentes de financiamiento / Fuentes</a></li>
            </ol>
        </div>
    </div>
    <div class="clearfix"></div>
    <div class="row">
        <div class="col-xs-12">
            <div class="x_panel">
                <div class="x_content sin-desborde">
                    <div ng-show="fuentesFinanciamiento.length === 0" class="alert advertencia">
                        No hay registros
                    </div>
                    <div ng-show="fuentesFinanciamiento.length > 0">
                        <table id="CRfuentesFinanciamientoGet" class="table table-hover table-striped table-condensed dt-responsive" cellspacing="0" datatable="ng" width="100%">
                            <thead>
                                <tr>
                                    <th class="hidden">Fuente de financiamiento</th> <!--El Datatable tiene problemas para ordenar celdas con contenido html, por lo que esto ayuda a ordenar la tabla-->
                                    <th data-priority="1" style="width:30%;">Fuente de financiamiento</th>
                                    <th style="width:30%;" class="text-center">N&uacute;mero de fondo(s) o programa(s)</th>
                                    <th data-priority="1" class="text-center" ng-if="idRol==15 || idRol==1031 || idRol==1032"> &iquest;Est&aacute; activo?</th>
                                    <th data-priority="1" class="thCeldaB text-center" ng-if="idRol==15|| idRol==1031 || idRol==1032">Opciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="e in fuentesFinanciamiento | orderBy: 'nombreFF'">
                                    <td class="hidden">{{e.nombreFF}}</td> <!--El Datatable tiene problemas para ordenar celdas con contenido html, por lo que esto ayuda a ordenar la tabla-->
                                    <td style="width:30%;">
                                        <a class="link" ui-sref="fuenteFinanciamientoDetails({ id: e.fuenteFinanciamientoId })" title="Detalles">
                                            {{e.nombreFF}}
                                        </a><br /> {{e.descripcion}}
                                        <br /> {{e.sitioWeb}}
                                        <br />
                                    </td>
                                    <td style="width:30%" class="text-center">
                                        <label style="color:transparent">{{e.fondoPrograma.length}}</label>
                                        <div ng-show="e.fondoPrograma.length === 0">
                                            {{e.fondoPrograma.length}}
                                        </div>
                                        <div ng-show="e.fondoPrograma.length > 0">
                                            <a class="link" ui-sref="fondoProgramaDetailsByFF({ id: e.fuenteFinanciamientoId })" title="Detalles Fondo Programa">{{e.fondoPrograma.length}} </a>
                                        </div>
                                    </td>
                                    <td class="thCeldaB text-center" ng-if="idRol==15 || idRol==1031 || idRol==1032">
                                        <div class="text-hide">
                                            {{e.estado}}
                                            <input type="checkbox" class="btn btn-info btn-circle" title="&iquest;Est&aacute activo?" ng-model="e.estado" value="{{e.estado}}"
                                                   ng-change="saveEstado(e)" />
                                        </div>
                                    </td>
                                    <td class="thCeldaB text-center" ng-if="idRol==15 || idRol==1031 || idRol==1032">
                                        <a class="btn btn-warning" ui-sref="fuenteFinanciamientoEdit({ id: e.fuenteFinanciamientoId })" title="Editar">
                                            <i class="glyphicon glyphicon-pencil"></i>
                                        </a>
                                        <div ng-show="e.fondoPrograma.length === 0">
                                            <a class="btn btn-danger" ng-really-click="eliminarRegistro(e.fuenteFinanciamientoId)" ng-really-message="Â¿Desea eliminar el registro?" title="Eliminar">
                                                <i class="glyphicon glyphicon-trash"></i>
                                            </a>
                                        </div>
                                        <div ng-if="e.fondoPrograma.length > 0">
                                            <a class="btn btn-danger" ng-click="mostrarAlerta()" title="Eliminar">
                                                <i class="glyphicon glyphicon-trash"></i>
                                            </a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <br /><br />
                    </div>
                    <div class="row">
                        <div class="col-xs-12">

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <button type="button" ui-sref="fuenteFinanciamientoAdd" class="btn btn-success" ng-if="idRol==15|| idRol==1031 || idRol==1032">
        <span class="glyphicon glyphicon-plus"></span> Agregar
    </button>
   



    
            <button ng-show="VarRetorno == '1'" type="button" ng-click="PonEnCero(); globalRegresar()" class="btn btn-primary">
                <span class="fa fa-arrow-left"></span> Regresar
            </button>
       
</div>