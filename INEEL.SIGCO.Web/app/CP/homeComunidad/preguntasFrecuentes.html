<div class="clearfix"><br /></div>
<div ng-controller="PreguntasComunidadCtrl" class="col-lg-12 col-md-12 col-xs-12">
    <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel sin-desborde">
            <div class="x_title">
                <h2>Preguntas frecuentes de la comunidad</h2>
                <div class="clearfix"></div>
            </div>
            <div>
                <div ng-show="preguntasComunidad.length>0">
                    <table id="CRtituloPersonaGet" class="table table-hover table-striped table-condensed dt-responsive" cellspacing="0" datatable="ng" width="100%">
                        <thead>
                        <tr>
                            <th class="thCeldaB">Pregunta</th>
                            <th class="thCeldaB" >Respuesta</th>
                            <th class="thCeldaB">Autor</th>
                            <th class="thCeldaB">Fecha</th>
                            <th ng-if="rol.lider || rol.administrador || rol.secretario" data-priority="1" class="thCeldaB text-center">Opciones</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="e in preguntasComunidad">
                            <td class="thCeldaB">{{e.pregunta}}</td>
                            <td>{{e.respuesta}}</td>
                            <td>
                                <label ng-if="e.nombrePersona!='Administrador CP'" class="thCeldaB text-left link" style="cursor: hand;cursor: pointer;" ng-click="openProfile(e.nombrePersona.substring(0,5))" title="Detalle de empleado"> {{e.nombrePersona.substring(0,5)}} </label>
                                <label ng-if="e.nombrePersona!='Administrador CP'" class="cont">- {{e.nombrePersona.substring(5)}}</label>
                                <label ng-if="e.nombrePersona=='Administrador CP'" class="cont">{{e.nombrePersona}}</label>
                            </td>
                            <td>{{e.fechaRegistro | date}}</td>
                            <td ng-if="rol.lider || rol.administrador || rol.secretario" class="thCeldaB text-center">
                                <a class="btn btn-warning" ng-click="editaRegistro(e)" title="Editar">
                                    <i class="glyphicon glyphicon-pencil"></i>
                                </a>
                                <a class="btn btn-danger" ng-really-click="eliminaRegistro(e.preguntaId)" title="Eliminar">
                                    <i class="glyphicon glyphicon-trash"></i>
                                </a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div ng-show="preguntasComunidad.length==0" class="alert advertencia">
                    No hay registros
                </div>
            </div>
        </div>
        <div ng-if="!rol.invitado">
            <button type="submit" class="btn btn-success" ng-click="agregaRegistro()">
                <i class="glyphicon glyphicon-plus"></i> Agregar
            </button>
        </div>
     </div>
</div>