<div class="clearfix"><br /></div>
<div ng-controller="SitiosComunidadCtrl" class="col-lg-12 col-md-12 col-xs-12">
    <div class="col-lg-12 col-md-12 col-xs-12">
        <div class="x_panel">
            <div class="x_title">
                <h2>Sitios de inter&eacute;s de la comunidad</h2>
                <div class="clearfix"></div>
            </div>


            
            <div> 
                <div ng-show="sitiosComunidad.length>0">
                    <table id="CRtituloPersonaGet" class="table table-hover table-striped table-condensed dt-responsive" cellspacing="0" datatable="ng" width="100%">
                        <thead>
                        <tr>
                            <th data-priority="1" class="sin-desborde">Sitio</th>
                            <th>Descripci&oacute;n</th>
                            <th>Autor</th>
                            <th class="thCeldaB">Categor&iacute;a</th>
                            <th data-priority="1" ng-if="rol.lider || rol.administrador || rol.secretario"  class="thCeldaB text-center">Opciones</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="e in sitiosComunidad">
                            <td class="thCeldaB"><a class="link" alt="{{e.liga}}" target="_blank" href="{{e.liga}}">{{e.titulo | limitTo:25}}...</a></td>
                            <td>{{e.descripcion==null? 'Sin descripción' : e.descripcion}}</td>
                            <td>
                                <label class="thCeldaB text-left link" ng-click="openProfile(e.idPersona)" style="cursor: pointer;" title="Detalle de empleado" ng-if="e.idPersona!=null"> {{e.idPersona}}</label>
                                <label ng-if="e.idPersona!=null" > - </label>
                                {{e.nombrePersona}}
                            </td>
                            <td>{{e.nombreCategoria}}</td>
                            <td ng-if="rol.lider || rol.administrador || rol.secretario" class="thCeldaB text-center">
                                <a class="btn btn-warning" ng-click="editaRegistro(e)" title="Editar">
                                    <i class="glyphicon glyphicon-pencil"></i>
                                </a>
                                <a class="btn btn-danger" ng-really-click="eliminaRegistro(e.sitioId)" title="Eliminar">
                                    <i class="glyphicon glyphicon-trash"></i>
                                </a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div ng-show="sitiosComunidad.length==0" class="alert advertencia">
                    No hay registros
                </div>
            </div>


        </div>
        <div ng-if="!rol.invitado">
            <button type="submit" class="btn btn-success" ng-click="agregaRegistro()">
                <i class="glyphicon glyphicon-plus"></i> Agregar
            </button>
        </div>
    </div>
    
    
</div>
