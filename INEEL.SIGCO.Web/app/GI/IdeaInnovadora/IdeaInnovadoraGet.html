<div class="vista">
    <div class="page-title">
        <div class="title_left">
            <ol class="breadcrumb miga">
                <li><i class="glyphicon glyphicon-file"></i> <a ui-sref="ideaInnovadora">Ideas innovadoras/ Mis ideas innovadoras</a></li>
            </ol>
        </div>
    </div>
    <div class="clearfix"></div>
    <div class="row">
        <!-- <div class="col-xs-12">
            <div class="x_panel">
                <div class="x_title">
                    <h2>Criterios de b&uacute;squeda</h2>
                    <ul class="nav navbar-right panel_toolbox">
                        <li>
                            <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                        </li>
                    </ul>
                    <div class="clearfix"></div>
                </div>
                <div class="x_content">
                    <form name="Search" id="Search" class="form-horizontal">
                        <div class="col-xs-12">
                            <div class="col-xs-12 col-md-6">
                                <div class="form-group ">
                                    <label class="col-md-12 col-sm-12 col-xs-12">
                                        Nombre de la idea innovadora
                                    </label>
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <input type="text" class="frmSearch form-control" placeholder="Nombre de la idea innovadora" ng-model="idea.nombreIdea" />
                                    </div>
                                </div>
                                <div class="form-group ">
                                    <label class="col-md-12 col-sm-12 col-xs-12">
                                        Palabra clave
                                    </label>
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <input type="text" class="frmSearch form-control" placeholder="Palabra(s) clave" ng-model="idea.palabrasClave" />
                                    </div>
                                </div>
                                <div class="form-group ">
                                    <label class="col-md-12 col-sm-12 col-xs-12">
                                        Principal proponente
                                    </label>
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <input type="text" class="frmSearch form-control" placeholder="Principal proponente" ng-model="idea.proponenteNombre" />
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 col-md-6">
                                <div class="form-group">
                                    <label class="col-md-12 col-sm-12 col-xs-12">Fecha inicio </label>
                                    <div class="col-xs-12">
                                        <div class="row">
                                            <div class="col-xs-10">

                                                <input placeholder="dd/mm/yyyy" show-button-bar="false" uib-datepicker-popup='dd/MM/yyyy' ng-minlength="8" maxlength="10" datepicker-options="datePicker.FechaOptions" popup-placement="bottom" type="text" class="form-control fechaOnly"
                                                       ng-model="idea.fechaInicioComparacion" is-open="open" close-text="Close" />
                                            </div>
                                            <div class="col-xs-2">
                                                <span class="input-group-btn">
                                                    <button type="button" class="btn btn-success" ng-click="open=true; idea.busquedaFecha='ok'"><i class="glyphicon glyphicon-calendar"></i></button>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-md-12 col-sm-12 col-xs-12">Fecha t&eacute;rmino </label>
                                    <div class="col-xs-12">
                                        <div class="row">
                                            <div class="col-xs-10">
                                                <input placeholder="dd/mm/yyyy" show-button-bar="false" uib-datepicker-popup='dd/MM/yyyy' ng-minlength="8" maxlength="10" datepicker-options="datePicker.FechaOptions" popup-placement="bottom" type="text" class="form-control fechaOnly"
                                                       ng-model="idea.fechaFinalComparacion" is-open="open2" close-text="Close" />
                                            </div>
                                            <div class="col-xs-2">
                                                <span class="input-group-btn">
                                                    <button type="button" class="btn btn-success" ng-click="open2=true; idea.busquedaFecha='ok'"><i class="glyphicon glyphicon-calendar"></i></button>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12">
                            <div class="col-xs-12 col-md-6">
                                <div class="form-group ">
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <a class="btn btn-success" ng-click="buscar()" title="buscar">
                                            <span class="glyphicon glyphicon-search"></span> Buscar
                                        </a>
                                        <button type="button" ng-click="reset()" class="btn btn-primary">
                                            Limpiar
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div> -->

        <div class="col-xs-12">
            <div class="x_panel" >
                <div class="x_content sin-desborde">
                    <form name="ValidForm" id="form" class="form-horizontal">
                        <div class="col-xs-12">
                            <!--<div ng-show="registros.length === 0 " class="alert advertencia">
                                No hay registros de idea innovadora.
                            </div>-->
                            <div>
                                <table id="GIMisideaInnovadorasConsulta" class="table table-hover table-striped table-condensed dt-responsive" cellspacing="0" dt-column-defs="dtColumnDefs" datatable="ng" width="100%"
                                       dt-options="dtOptions">
                                    <thead>
                                        <tr>
                                            <th data-priority="1">Idea<br />innovadora</th>
                                            <th>Palabra<br />clave</th>
                                            <th>Principal<br />proponente</th>
                                            <th>Estado<br />registro</th>
                                            <th>Fecha<br />registro</th>
                                            <th>Fecha<br />validaci&oacute;n</th>
                                            <th data-priority="1" class="thAjuste text-center">Opciones</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="registro in registros" id="{{registro.ideaInnovadoraId}}">
                                            <td style="max-width:300px" class="sin-desborde"><a ng-click="setVariable('busquedaMisIdeasInnovadorasGI', idea);setGlobalID(registro.ideaInnovadoraId)" ui-sref="ideaInnovadoraDetailsPersonal" title="Detalle">{{registro.nombreIdea}}</a></td>
                                            <td>{{registro.palabrasClave}}</td>
                                            <!--<td>{{registro.proponenteNombre ===  null ? 'Dato no disponible' : registro.proponenteNombre}}</td>-->
                                            <td>
                                                <span ng-if="registro.proponenteNombre==null">Dato no disponible</span>
                                                <a ng-if="registro.proponenteNombre!=null" ng-click="openProfile(registro.claveProponentePrincipal)" title="Detalle de empleado" class="linkTabla">{{registro.claveProponentePrincipal}}</a>
                                                <span ng-if="registro.proponenteNombre!=null"> -{{registro.proponenteNombre}}</span>
                                            </td>
                                            <td>{{registro.estadoFlujo.descripcion}}</td>
                                            <td><a class="hidden">{{registro.fechaRegistro | date:"yyyy/MM/dd"}}</a>{{registro.fechaRegistro | date:"dd/MM/yyyy"}}</td>
                                            <td>{{registro.fechaValidacion === null ? 'Dato no disponible' : registro.fechaValidacion | date:"dd/MM/yyyy"}}</td>
                                            <td ng-init="setDatatable($last)" class="text-center" title="Responsable(s): {{registro.clavePersona}} {{registro.clavePersona == registro.claveProponentePrincipal? '': (','+registro.claveProponentePrincipal)}}">
                                                <div ng-if="registro.estadoFlujoId==1 && (registro.clavePersona==ClavePersonaLogin || registro.claveProponentePrincipal==ClavePersonaLogin)">
                                                    <a ng-click="setVariable('busquedaMisIdeasInnovadorasGI', idea);setGlobalID(registro.ideaInnovadoraId)" ui-sref="ideaInnovadoraEdit" title="Editar" class="btn btn-warning">
                                                        <i class="glyphicon glyphicon-pencil"></i>
                                                    </a>
                                                    <a title="Eliminar" ng-if="registro.estadoFlujoId==1" ng-really-click="delete(registro, registro.ideaInnovadoraId)" class="btn btn-danger">
                                                        <i class="glyphicon glyphicon-trash"></i>
                                                    </a>
                                                </div>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <button ng-show="registros.length >= 0 || registros==null" type="button" ng-click="$event.stopPropagation();" ui-sref="ideaInnovadoraAdd" class="btn btn-success">
                                <span class="glyphicon glyphicon-plus"></span> Agregar
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
